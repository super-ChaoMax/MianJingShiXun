import{_ as D,B as j,Q,r as p,J as I,c as q,a7 as C,e as t,ai as M,a2 as S,az as L,a as o,w as k,f as B,aj as z,o as g,aA as J,ao as P,au as X,s as V,b as x,d as E,aB as N}from"./index-IQsjkGjj.js";import{C as U}from"./index-CQCvHenO.js";import{u as F}from"./user-Do1y2I7e.js";const O={key:0,class:"popup-header"},W={key:0,class:"popup-title"},A={class:"popup-body"},H={key:1,class:"popup-footer"},R={components:{vanIcon:Q,vanButton:j}},G=Object.assign(R,{__name:"CommonPopup",props:{visible:{type:Boolean,default:!1},title:{type:String,default:""},showClose:{type:Boolean,default:!0},showFooter:{type:Boolean,default:!0},confirmText:{type:String,default:"确认"},cancelText:{type:String,default:"取消"},closeOnMaskClick:{type:Boolean,default:!0},width:{type:String,default:"80%"}},emits:["close","confirm","cancel","update:visible"],setup(a,{emit:_}){const l=a,n=_,i=p(l.visible);I(()=>l.visible,u=>{i.value=u,u?document.body.style.overflow="hidden":document.body.style.overflow=""},{immediate:!0});const c=()=>{i.value=!1,n("update:visible",!1),n("close"),document.body.style.overflow=""},r=()=>{n("confirm"),c()},h=()=>{n("cancel"),c()},y=u=>{l.closeOnMaskClick&&u.target===u.currentTarget&&c()};return(u,b)=>{const f=Q,w=j;return i.value?(g(),q("div",{key:0,class:"popup-mask",onClick:y},[t("div",{class:"popup-content",style:z({width:a.width})},[a.title||a.showClose?(g(),q("div",O,[a.title?(g(),q("h3",W,S(a.title),1)):C("",!0),a.showClose?(g(),M(f,{key:1,name:"cross",class:"popup-close",onClick:c})):C("",!0)])):C("",!0),t("div",A,[L(u.$slots,"default",{},void 0)]),a.showFooter?(g(),q("div",H,[o(w,{type:"default",class:"popup-cancel-btn",onClick:h},{default:k(()=>[B(S(a.cancelText),1)]),_:1}),o(w,{type:"primary",class:"popup-confirm-btn",onClick:r},{default:k(()=>[B(S(a.confirmText),1)]),_:1})])):C("",!0)],4)])):C("",!0)}}}),K=D(G,[["__scopeId","data-v-465cb075"]]),Y={class:"share-options"},Z={class:"qrcode-wrap"},ee=["src","alt"],te={class:"qrcode-tip"},se={__name:"ShareDialog",props:{visible:{type:Boolean,default:!1},shareLink:{type:String,default:""},wechatQrcode:{type:String,default:"https://picsum.photos/200/200?random=1"},qqQrcode:{type:String,default:"https://picsum.photos/200/200?random=2"}},emits:["close","share-wechat","share-qq","copy-success"],setup(a,{emit:_}){const l=a,n=_,i=p(!1),c=p(!1),r=p(""),h=p("");I(()=>l.visible,s=>{s||(i.value=!1)});const y=s=>{s||n("close")},u=()=>{n("close")},b=s=>{s==="wechat"?(r.value="微信",h.value=l.wechatQrcode,n("share-wechat",l.shareLink||window.location.href)):s==="qq"&&(r.value="QQ",h.value=l.qqQrcode,n("share-qq",l.shareLink||window.location.href)),c.value=!0,n("close")},f=()=>{V("分享成功"),c.value=!1},w=async()=>{try{const s=l.shareLink||window.location.href;await navigator.clipboard.writeText(s),i.value=!0,V("链接复制成功"),setTimeout(()=>i.value=!1,2e3),n("close")}catch{alert("复制失败，请手动复制："+link)}},$=s=>{s.target.src="https://picsum.photos/200/200?fallback"};return(s,e)=>{const m=Q,v=J,T=P;return g(),M(X,{to:"body"},[o(v,{show:a.visible,title:"分享到","show-cancel-button":"","cancel-button-text":"取消",onCancel:u,"onUpdate:show":y,class:"share-dialog"},{default:k(()=>[t("div",Y,[t("div",{class:"share-option",onClick:e[0]||(e[0]=d=>b("wechat"))},[o(m,{name:"wechat",class:"share-icon wechat-icon"}),e[4]||(e[4]=t("span",{class:"share-text"},"微信",-1))]),t("div",{class:"share-option",onClick:e[1]||(e[1]=d=>b("qq"))},[o(m,{name:"qq",class:"share-icon qq-icon"}),e[5]||(e[5]=t("span",{class:"share-text"},"QQ",-1))]),t("div",{class:"share-option",onClick:w},[o(m,{name:"link-o",class:"share-icon link-icon"}),e[6]||(e[6]=t("span",{class:"share-text"},"复制链接",-1))])])]),_:1},8,["show"]),o(v,{show:c.value,title:r.value+"分享","show-cancel-button":"","cancel-button-text":"关闭",onCancel:e[2]||(e[2]=d=>c.value=!1),onConfirm:f,class:"qrcode-dialog"},{default:k(()=>[t("div",Z,[t("img",{src:h.value,alt:r.value+"二维码",class:"qrcode-img",onError:$},null,40,ee),t("p",te,"扫码分享至 "+S(r.value),1)])]),_:1},8,["show","title"]),o(T,{show:i.value,type:"success","onUpdate:show":e[3]||(e[3]=d=>i.value=!1)},{default:k(()=>[...e[7]||(e[7]=[B(" 链接复制成功 ",-1)])]),_:1},8,["show"])])}}},oe=D(se,[["__scopeId","data-v-5b2d04d0"]]),ne="/MianJingShiXun/assets/20260108122808_27_685-Cn15arXl.jpg",ae="/MianJingShiXun/assets/20260108122831_29_685-EFgk44Vl.jpg",le="/MianJingShiXun/assets/20260108134910_31_685-C2cwSeib.jpg",ie="/MianJingShiXun/assets/20260108140917_35_685-BozyVPHm.jpg",ce={class:"profile-page"},re={class:"profile-header"},ue={class:"avatar-wrap"},de=["src"],pe={class:"profile-functions"},he={class:"profile-settings"},fe={class:"qr-content",style:{"text-align":"center"}},me=["src"],ve={__name:"wode",setup(a){const _=F(),l=E(),n=p(!1),i=p("https://www.example.com/profile"),c=()=>{n.value=!0},r=s=>{l.push(`/shoye/${s}`)},h=async()=>{await N({title:"温馨提示",message:"您确定真的要退出登录吗？？？"}).then(()=>{_.settoken({}),V("退出成功")}),l.push("/login")},y=s=>{console.log("微信分享链接：",s)},u=s=>{console.log("QQ分享链接：",s)},b=s=>{console.log("复制链接成功：",s)},f=p(!1),w=()=>{f.value=!0},$=()=>{alert("链接：https://localhost/chao")};return(s,e)=>{const m=Q,v=U,T=K;return g(),q("div",ce,[t("div",re,[t("div",ue,[t("img",{src:x(le),alt:"用户头像",class:"avatar"},null,8,de),e[5]||(e[5]=t("span",{class:"username"},"chao",-1))])]),t("div",pe,[t("button",{class:"function-btn",onClick:e[0]||(e[0]=d=>r("zhuye"))},[o(m,{name:"clock-o",class:"function-icon"}),e[6]||(e[6]=t("span",{class:"function-text"},"历史记录",-1))]),t("button",{class:"function-btn",onClick:e[1]||(e[1]=d=>r("shoucang"))},[o(m,{name:"star-o",class:"function-icon"}),e[7]||(e[7]=t("span",{class:"function-text"},"我的收藏",-1))]),t("button",{class:"function-btn",onClick:e[2]||(e[2]=d=>r("xihuan"))},[o(m,{name:"like-o",class:"function-icon"}),e[8]||(e[8]=t("span",{class:"function-text"},"我的喜欢",-1))])]),t("div",he,[o(v,{title:"推荐分享","is-link":"",onClick:c,class:"setting-item"}),o(v,{title:"意见反馈","is-link":"",onClick:w,class:"setting-item"}),o(v,{title:"关于我们","is-link":"",onClick:$,class:"setting-item"}),o(v,{title:"退出登录","is-link":"",onClick:h,class:"setting-item logout-item"})]),o(oe,{visible:n.value,"share-link":i.value,wechatQrcode:x(ne),qqQrcode:x(ae),onClose:e[3]||(e[3]=d=>n.value=!1),onShareWechat:y,onShareQq:u,onCopySuccess:b},null,8,["visible","share-link","wechatQrcode","qqQrcode"]),o(T,{visible:f.value,"onUpdate:visible":e[4]||(e[4]=d=>f.value=d),title:"有意见?","confirm-text":"确认","cancel-text":"关闭"},{default:k(()=>[t("div",fe,[t("img",{src:x(ie),alt:"二维码",style:{width:"200px",height:"200px","object-fit":"cover","border-radius":"8px"}},null,8,me),e[9]||(e[9]=t("p",{style:{"margin-top":"12px","font-size":"14px",color:"#666"}}," 大胆！你还敢有意见 ",-1))])]),_:1},8,["visible"])])}}},_e=D(ve,[["__scopeId","data-v-53c67676"]]);export{_e as default};
