import{_ as k,u as q,r,c as T,a as t,b as p,w as u,d as B,o as C,e as _,B as J,f,g as N,s as F,h as S}from"./index-IQsjkGjj.js";import{F as j,C as L,a as R}from"./index-UyELTVxH.js";import"./index-CQCvHenO.js";import{N as U}from"./index-DuL2sAEB.js";import{J as E}from"./JumpTip-CgpBIgC1.js";import{u as G}from"./user-Do1y2I7e.js";const I={class:"denglu"},M={style:{margin:"16px"}},Z={style:{margin:"16px"}},$={__name:"index",setup(z){const o=q(),m=B();console.log("当前路由是否有携带参数",o);const n=r(""),i=r(""),v=G(),s=r(!1),y=r(o.query.huitiaourl||"/"),g=()=>{console.log("返回上一级"),m.push(o.query.huitiaourl)},x=a=>{m.push(a),s.value=!1},b=async()=>{console.log("我点击了登录");try{const a=await N(n.value,i.value);v.settoken(a.data.token),await F("登录成功！"),s.value=!0}catch(a){console.error("登录失败：",a),await S("登录失败：")}};return(a,e)=>{const w=U,d=R,h=L,c=J,V=j;return C(),T("div",I,[t(w,{title:"面经登录","left-text":p(o).query.huitiaourl?"返回":"","left-arrow":!!p(o).query.huitiaourl,onClickLeft:g,class:"MJtite"},null,8,["left-text","left-arrow"]),t(V,{onSubmit:b},{default:u(()=>[t(h,{inset:""},{default:u(()=>[t(d,{modelValue:n.value,"onUpdate:modelValue":e[0]||(e[0]=l=>n.value=l),name:"username",label:"用户名",placeholder:"用户名",rules:[{required:!0,message:"请填写用户名"}]},null,8,["modelValue"]),t(d,{modelValue:i.value,"onUpdate:modelValue":e[1]||(e[1]=l=>i.value=l),type:"password",name:"password",label:"密码",placeholder:"密码",rules:[{required:!0,message:"请填写密码"}]},null,8,["modelValue"])]),_:1}),_("div",M,[t(c,{round:"",block:"",type:"primary","native-type":"submit"},{default:u(()=>[...e[3]||(e[3]=[f(" 登录 ",-1)])]),_:1})]),_("div",Z,[t(c,{round:"",block:"",type:"primary",to:"/Zhuce"},{default:u(()=>[...e[4]||(e[4]=[f(" 去注册 ",-1)])]),_:1})])]),_:1}),t(E,{visible:s.value,"tip-text":p(o).query.huitiaourl?"登录成功！即将返回原页面":"登录成功！即将跳转到首页",duration:3,target:y.value,"is-external":!1,onClose:e[2]||(e[2]=l=>s.value=!1),onJump:x},null,8,["visible","tip-text","target"])])}}},Q=k($,[["__scopeId","data-v-a7436658"]]);export{Q as default};
