import{j as T,S as w,n as f,k as x,r as d,H as y,D as S,a9 as I,I as h,M as P,K as C,as as B,at as D,J as j,a as u,Q as N,V as q,au as z,av as A,L,aw as M,ax as O,q as R}from"./index-IQsjkGjj.js";function V(e,c){let o=null,i=0;return function(...s){if(o)return;const a=Date.now()-i,l=()=>{i=Date.now(),o=!1,e.apply(this,s)};a>=c?l():o=setTimeout(l,c)}}const[_,m]=x("back-top"),E={right:f,bottom:f,zIndex:f,target:[String,Object],offset:w(200),immediate:Boolean,teleport:{type:[String,Object],default:"body"}};var H=T({name:_,inheritAttrs:!1,props:E,emits:["click"],setup(e,{emit:c,slots:o,attrs:i}){let s=!1;const a=d(!1),l=d(),n=d(),b=y(()=>S(I(e.zIndex),{right:h(e.right),bottom:h(e.bottom)})),k=t=>{var r;c("click",t),(r=n.value)==null||r.scrollTo({top:0,behavior:e.immediate?"auto":"smooth"})},v=()=>{a.value=n.value?O(n.value)>=+e.offset:!1},p=()=>{const{target:t}=e;if(typeof t=="string"){const r=document.querySelector(t);if(r)return r}else return t},g=()=>{A&&L(()=>{n.value=e.target?p():M(l.value),v()})};return P("scroll",V(v,100),{target:n}),C(g),B(()=>{s&&(a.value=!0,s=!1)}),D(()=>{a.value&&e.teleport&&(a.value=!1,s=!0)}),j(()=>e.target,g),()=>{const t=u("div",q({ref:e.teleport?void 0:l,class:m({active:a.value}),style:b.value,onClick:k},i),[o.default?o.default():u(N,{name:"back-top",class:m("icon")},null)]);return e.teleport?[u("div",{ref:l,class:m("placeholder")},null),u(z,{to:e.teleport},{default:()=>[t]})]:t}}});const K=R(H);export{K as B};
